// Gnome-shell extensions styling, especially for Dash-to-dock and Dash-to-panel
// NEEDS HELP TO MAKE IT PERFECT

#dashtodockContainer {
	.dash-item-container {
		.app-well-app-running-dot {
			width: 4px;
  		height: 4px;
			margin: 1px;
			border-radius: 9999px;

			background-color: if($variant == 'light', rgba(black, 0.4), rgba(white, 0.4));
		}

		> StWidget.focused .app-well-app-running-dot {
			width: 12px;
			background-color: if($variant == 'light', rgba(black, 0.8), rgba(white, 0.8));
		}

		.app-well-app .overview-icon,
		.show-apps .overview-icon {
			padding: 6px;
		}

		.app-well-app:hover .overview-icon {
			background-color: if($variant == 'dark' and $light-panel == 'false', rgba(white, 0.05), rgba(black, 0.05));
		}

		.app-well-app.focused .overview-icon {
			background-color: if($variant == 'dark' and $light-panel == 'false', rgba(white, 0.1), rgba(black, 0.1));
		}
	}

	.show-apps {
		.show-apps-icon {
			background-color: if($variant == 'light', rgba(white, 0.5), rgba(black, 0.5));
			color: if($variant == 'light', rgba(black, 0.6), rgba(white, 0.6));
			border-radius: 3px;
			box-shadow: inset 0 0 0 1px rgba(black, 0.22);
		}

		&:hover .show-apps-icon {
			background-color: if($variant == 'light', rgba(white, 0.7), rgba(black, 0.7));
		}

		&:checked .show-apps-icon {
			background-color: $selected_bg_color;
			color: white;
		}

		&:hover .overview-icon,
		&:active .overview-icon,
		&:checked .overview-icon {
			background-color: transparent;
		}
	}
}

@each $pos, $padding, $radius, $image in ('.top', '0 4px', '0', 'top'),
																 				 ('.bottom', '0 4px', '0', 'bottom'),
																 			 	 ('.left', '4px', '3px', 'left'),
																 			 	 ('.right', '4px', '3px', 'right') {
	#dashtodockContainer#{$pos} {
		#dash {
			border-image: url("assets/dash/dash-#{$image}.svg") 7;
		}

		&.extended #dash {
			border-image: url("assets/dash/dash-#{$image}-extended.svg") 7;
		}

		.dash-item-container > StWidget {
			padding:  #{$padding};
		}

		.app-well-app .overview-icon,
		.show-apps .overview-icon {
			border: 0;
			border-radius: #{$radius};
		}
	}
}


#panel.dashtopanelMainPanel {
	&.dashtopanelTop {
		border-image: url("assets/panel-top.svg") 4;

		&.solid {
			border-image: url("assets/panel-top.svg") 4;
		}
	}

	&.dashtopanelBottom {
		border-image: url("assets/panel-bottom.svg") 4;

		.panel-button {
			&:active, &:overview, &:focus, &:checked {
				box-shadow: inset 0 -2px 0px lighten($selected_bg_color,5%);
			}
		}

		&.solid {
			border-image: url("assets/panel-bottom.svg") 4;
		}
	}

	.show-apps .overview-icon {
		color: if($light-panel == 'false', $dark_fg_color, $fg_color);
		border: 0;
	}

	.show-apps:hover .overview-icon {
		background-color: if($light-panel == 'false', rgba(white, 0.03), rgba(black, 0.05));
	}
}
